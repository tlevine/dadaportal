{% extends 'base.html' %}

{% block base %}
<article>
  <h1>Search the Dada Portal</h1>

  <section>
    <h2>Query</h2>
    <form method="get" action=".">
      {{ form.as_p }}
      <p><input type="submit" value="Search"></p>
    </form>
  </section>

  {% if query %}
  <section>
    <h2>Results</h2>

    {% for result in page.object_list %}
    <p><a href="{{ result.object.get_absolute_url }}">{{ result.object.title }}</a></p>
    {% empty %}
    <p>No results found.</p>
    {% endfor %}

    {% if page.has_previous or page.has_next %}
    <footer>
      {% if page.has_previous %}
      <a href="?q={{ query }}&amp;page={{ page.previous_page_number }}">
      {% endif %}
        &laquo; Previous
      {% if page.has_previous %}
      </a>
      {% endif %}

      |

      {% if page.has_next %}
      <a href="?q={{ query }}&amp;page={{ page.next_page_number }}">
      {% endif %}
        Next &raquo;
      {% if page.has_next %}
      </a>
      {% endif %}
    </footer>
    {% endif %}
  </section>

  {% else %}
  {# Show some example queries to run, maybe query syntax, something else? #}
  {% endif %}
</article>
{% endblock %}
